<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Heart Balloons</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: black;
      overflow: hidden;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>

<canvas id="c"></canvas>

<script>
/* ===============================
   SETUP
   =============================== */
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
addEventListener("resize", resize);
resize();

/* ===============================
   HEART GEOMETRY
   =============================== */
function heartPoint(t) {
  const x = 16 * Math.pow(Math.sin(t), 3);
  const y =
    13 * Math.cos(t) -
    5 * Math.cos(2 * t) -
    2 * Math.cos(3 * t) -
    Math.cos(4 * t);
  return { x, y };
}

/* ===============================
   BALLOONS ON HEART
   =============================== */
const balloons = [];
const COUNT = 46;

function rand(min, max) {
  return min + Math.random() * (max - min);
}

for (let i = 0; i < COUNT; i++) {
  const t = (i / COUNT) * Math.PI * 2;
  const p = heartPoint(t);

  balloons.push({
    t,
    baseX: p.x,
    baseY: p.y,
    r: rand(12, 20),
    floatPhase: Math.random() * Math.PI * 2,
    drift: rand(0.4, 1),
    alpha: rand(0.6, 0.9)
  });
}

let time = 0;

/* ===============================
   STRING
   =============================== */
function drawString(x, y, r, phase) {
  const segments = 12;
  const length = r * 2.8;
  const segLen = length / segments;

  ctx.strokeStyle = "rgba(220,220,220,0.35)";
  ctx.lineWidth = 1;
  ctx.beginPath();
  ctx.moveTo(x, y);

  for (let i = 1; i <= segments; i++) {
    const sway =
      Math.sin(time * 0.8 + phase + i * 0.6) *
      (segments - i) * 0.8;

    const gravity = i * 1.3;

    ctx.lineTo(
      x + sway * 0.4,
      y + i * segLen + gravity
    );
  }

  ctx.stroke();
}

/* ===============================
   DRAW BALLOON
   =============================== */
function drawBalloon(b) {
  const scale = Math.min(canvas.width, canvas.height) / 40;
  const cx = canvas.width / 2;
  const cy = canvas.height * 0.45;

  const floatY = Math.sin(time + b.floatPhase) * 6;
  const driftX = Math.sin(time * b.drift + b.floatPhase) * 6;

  const x = cx + b.baseX * scale + driftX;
  const y = cy - b.baseY * scale + floatY;

  // string
  drawString(x, y + b.r, b.r, b.floatPhase);

  // balloon body
  ctx.fillStyle = `rgba(220,40,40,${b.alpha})`;
  ctx.beginPath();
  ctx.ellipse(x, y, b.r * 0.9, b.r, 0, 0, Math.PI * 2);
  ctx.fill();

  // highlight
  ctx.fillStyle = "rgba(255,255,255,0.45)";
  ctx.beginPath();
  ctx.arc(
    x - b.r * 0.25,
    y - b.r * 0.35,
    b.r * 0.18,
    0,
    Math.PI * 2
  );
  ctx.fill();
}

/* ===============================
   TEXT (CENTER OF HEART)
   =============================== */
function drawText() {
  const cx = canvas.width / 2;
  const cy = canvas.height * 0.45; // SAME center as heart

  ctx.save();
  ctx.textAlign = "center";
  ctx.textBaseline = "middle";

  // glow
  ctx.font = "36px serif";
  ctx.shadowColor = "rgba(255,80,80,0.6)";
  ctx.shadowBlur = 20;
  ctx.fillStyle = "rgba(255,160,160,0.9)";
  ctx.fillText("Raju loves Oishi", cx, cy);

  // crisp text
  ctx.shadowBlur = 0;
  ctx.fillStyle = "rgba(255,200,200,1)";
  ctx.fillText("Raju loves Oishi", cx, cy);

  ctx.restore();
}

/* ===============================
   LOOP
   =============================== */
function animate() {
  ctx.fillStyle = "rgba(0,0,0,0.25)";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  balloons.forEach(drawBalloon);
  drawText();

  time += 0.01;
  requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>
